import{x as i,o as S,b1 as U,A as w,B as D,Y as e,F as t,O as _,ak as o,ad as L,E as P,P as s}from"./index-e89fb82e.js";import{b as T,c as F,E as $,a as I}from"./el-checkbox-b220b235.js";import{E as V}from"./el-input-346069fe.js";import"./el-tooltip-9014fcac.js";import{g as j,E as M,a as O,b as Y}from"./user-109930f6.js";import{u as q}from"./useInstance-d31f1000.js";import"./_initCloneObject-eb883312.js";import"./dropdown-d0ba394d.js";const G={class:"user"},H={class:"card-header"},J={style:{color:"#218868"}},K={style:{display:"flex","align-items":"center"}},ne={__name:"index",setup(Q){const{global:m}=q(),f=i([]),c=i(1),d=i(10),h=i(0),p=async()=>{m.$myLoading.showFullScreenLoading(".needLoading","正在载入数据"),await j(c.value,d.value).then(l=>{l&&l.data&&(console.log(l.data),h.value=l.data.total,f.value=l.data.records)}).catch(l=>{console.log(l)}).finally(()=>{m.$myLoading.hideFullScreenLoading()})};S(async()=>{await p()});const b=()=>{p()},y=()=>{p()},k=l=>{console.log(l),alert("修改")},x=l=>{console.log(l),alert("删除")};return(l,r)=>{const g=V,n=T,v=M,C=O,u=F,E=$,z=Y,A=I,B=U("auto-height");return w(),D("div",G,[e(z,{class:"box-car"},{header:t(()=>[_("div",H,[e(g,{type:"primary",icon:"FolderAdd",round:""},{default:t(()=>[o("新增")]),_:1})])]),default:t(()=>[L((w(),P(E,{class:"needLoading",data:f.value,style:{width:"100%"},border:""},{default:t(()=>[e(n,{label:"序号",width:"80",align:"center",type:"index"}),e(n,{prop:"nickName",label:"用户昵称",width:"120",align:"center"},{default:t(a=>[_("span",J,s(a.row.nickName),1)]),_:1}),e(n,{prop:"avatarUrl",label:"头像",width:"180",align:"center"},{default:t(a=>[_("div",K,[e(C,{placement:"right",title:"",width:500,trigger:"hover"},{reference:t(()=>[e(v,{loading:"lazy",fit:"cover",src:a.row.avatarUrl},null,8,["src"])]),default:t(()=>[e(v,{style:{width:"100%",height:"100%"},loading:"lazy",fit:"cover",src:a.row.avatarUrl},null,8,["src"])]),_:2},1024)])]),_:1}),e(n,{prop:"email",label:"邮箱",align:"center"}),e(n,{prop:"phoneNumber",label:"手机号",align:"center"}),e(n,{prop:"gender",label:"性别",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.gender===1?"success":"warning",class:"mx-1",effect:"dark"},{default:t(()=>[o(s(a.row.gender===1?"男":"女"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"age",label:"年龄",width:"70",align:"center"}),e(n,{prop:"createdTime",label:"创建时间"}),e(n,{prop:"isActive",label:"状态",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.isActive===1?"success":"warning",class:"mx-1",effect:"light"},{default:t(()=>[o(s(a.row.isActive===1?"激活":"未激活"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"isAdmin",label:"管理员",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.isAdmin===1?"success":"warning",class:"mx-1",effect:"plain"},{default:t(()=>[o(s(a.row.isAdmin===1?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"操作",width:"130",align:"center"},{default:t(a=>[e(g,{link:"",type:"warning",size:"default",onClick:N=>k(a.row)},{default:t(()=>[o("修改")]),_:2},1032,["onClick"]),e(g,{link:"",type:"danger",size:"default",onClick:N=>x(a.row)},{default:t(()=>[o("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,{bottom:80}]])]),_:1}),e(A,{class:"mt-[6px]","current-page":c.value,"onUpdate:currentPage":r[0]||(r[0]=a=>c.value=a),"page-size":d.value,"onUpdate:pageSize":r[1]||(r[1]=a=>d.value=a),"page-sizes":[10,20,30,40],background:!0,layout:"prev, pager, next, jumper, ->, total, sizes",total:h.value,onSizeChange:y,onCurrentChange:b},null,8,["current-page","page-size","total"])])}}};export{ne as default};
