import{K as e,S as a,ao as t,o as l,b as r,e as n,w as i,q as s,X as d,ap as o,x as c,A as u,ae as p,aq as g,ar as f,as as w,at as m,am as h,au as v,an as y}from"./vendor-b3ef81b6.js";import{g as b}from"./user-625d9968.js";import{u as _}from"./useInstance-8c9b1313.js";import"./index-0b0c78ac.js";const x={class:"user"},k={class:"card-header"},z={style:{color:"#218868"}},A={style:{display:"flex","align-items":"center"}},C={__name:"index",setup(C){const{global:L}=_(),j=e([]),S=e(1),U=e(10),F=e(0),N=async()=>{L.$myLoading.showFullScreenLoading(".needLoading","正在载入数据"),await b(S.value,U.value).then((e=>{e&&e.data&&(F.value=e.data.total,j.value=e.data.records)})).catch((e=>{})).finally((()=>{L.$myLoading.hideFullScreenLoading()}))};a((async()=>{await N()}));const q=()=>{N()},$=()=>{N()};return(e,a)=>{const b=p,_=g,C=f,L=w,N=m,I=h,K=v,P=y,T=t("auto-height");return l(),r("div",x,[n(K,{class:"box-car"},{header:i((()=>[s("div",k,[n(b,{type:"primary",icon:"FolderAdd",round:""},{default:i((()=>[d("新增")])),_:1})])])),default:i((()=>[o((l(),c(I,{class:"needLoading",data:j.value,style:{width:"100%"},border:""},{default:i((()=>[n(_,{label:"序号",width:"80",align:"center",type:"index"}),n(_,{prop:"nickName",label:"用户昵称",width:"120",align:"center"},{default:i((e=>[s("span",z,u(e.row.nickName),1)])),_:1}),n(_,{prop:"avatarUrl",label:"头像",width:"180",align:"center"},{default:i((e=>[s("div",A,[n(L,{placement:"right",title:"",width:500,trigger:"hover"},{reference:i((()=>[n(C,{loading:"lazy",fit:"cover",src:e.row.avatarUrl},null,8,["src"])])),default:i((()=>[n(C,{style:{width:"100%",height:"100%"},loading:"lazy",fit:"cover",src:e.row.avatarUrl},null,8,["src"])])),_:2},1024)])])),_:1}),n(_,{prop:"email",label:"邮箱",align:"center"}),n(_,{prop:"phoneNumber",label:"手机号",align:"center"}),n(_,{prop:"gender",label:"性别",width:"80",align:"center"},{default:i((e=>[n(N,{type:1===e.row.gender?"success":"warning",class:"mx-1",effect:"dark"},{default:i((()=>[d(u(1===e.row.gender?"男":"女"),1)])),_:2},1032,["type"])])),_:1}),n(_,{prop:"age",label:"年龄",width:"70",align:"center"}),n(_,{prop:"createdTime",label:"创建时间"}),n(_,{prop:"isActive",label:"状态",width:"80",align:"center"},{default:i((e=>[n(N,{type:1===e.row.isActive?"success":"warning",class:"mx-1",effect:"light"},{default:i((()=>[d(u(1===e.row.isActive?"激活":"未激活"),1)])),_:2},1032,["type"])])),_:1}),n(_,{prop:"isAdmin",label:"管理员",width:"80",align:"center"},{default:i((e=>[n(N,{type:1===e.row.isAdmin?"success":"warning",class:"mx-1",effect:"plain"},{default:i((()=>[d(u(1===e.row.isAdmin?"是":"否"),1)])),_:2},1032,["type"])])),_:1}),n(_,{label:"操作",width:"130",align:"center"},{default:i((e=>[n(b,{link:"",type:"warning",size:"default",onClick:a=>(e.row,void alert("修改"))},{default:i((()=>[d("修改")])),_:2},1032,["onClick"]),n(b,{link:"",type:"danger",size:"default",onClick:a=>(e.row,void alert("删除"))},{default:i((()=>[d("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[T,{bottom:80}]])])),_:1}),n(P,{class:"mt-[6px]","current-page":S.value,"onUpdate:currentPage":a[0]||(a[0]=e=>S.value=e),"page-size":U.value,"onUpdate:pageSize":a[1]||(a[1]=e=>U.value=e),"page-sizes":[10,20,30,40],background:!0,layout:"prev, pager, next, jumper, ->, total, sizes",total:F.value,onSizeChange:$,onCurrentChange:q},null,8,["current-page","page-size","total"])])}}};export{C as default};
