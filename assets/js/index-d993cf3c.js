var e;import{ab as t,o as s,c as o,O as a,R as n,u as r,ao as i}from"./@vue-557ff3e0.js";import{z as c,E as l,a as m,b as d,c as u,d as p}from"./element-plus-7e112574.js";import{c as g,d as f}from"./pinia-d932e60b.js";import{i as h}from"./pinia-plugin-persist-70d140bd.js";import{c as _}from"./vue-i18n-4d80fa7d.js";import{c as b,a as v}from"./vue-router-e94cc7dd.js";import{a as y}from"./axios-87267c27.js";import{N as k}from"./nprogress-f8a163bf.js";import{E as j}from"./@element-plus-10a58ae2.js";import"./lodash-es-0f17fca1.js";import"./async-validator-cf877c1f.js";import"./@ctrl-08719ea3.js";import"./@popperjs-b78c3215.js";import"./escape-html-203c476a.js";import"./dayjs-02d3be64.js";import"./normalize-wheel-es-3222b0a2.js";import"./@intlify-490a3a79.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const E=g();E.use(h);let L=navigator.language.replace(/-[A-Za-z]*/,"");const w=sessionStorage.getItem("locales");null!==w&&(L=null==(e=JSON.parse(w))?void 0:e.locale);const A=_({locale:L,legacy:!1,
// 防止组件引入i18n，vite脚手架报错
globalInjection:!0,
// 全局注册 $t
messages:{zh:{common:{home:"首页",about:"关于",signIn:"登录",signUp:"注册",main:"主要内容区域"},route:{dashboard:"仪表盘",workbench:"工作台"}},en:{common:{home:"home",about:"about",signIn:"sign in",signUp:"sign up",main:"common.main"},route:{dashboard:"dashboard",workbench:"Workbench"}}}}),I=[{key:"zh",title:"中文"},{key:"en",title:"English"}],O=f("locales",{state:()=>({locale:A.global.locale}),actions:{
// 设置当前的语言环境
setLocale(e){this.locale=e,A.global.locale=e}},persist:{enabled:!0,strategies:[{storage:sessionStorage}]}}),P=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},T={class:"app"},S=P(Object.assign({name:"App"},{__name:"App",setup(e){const i=O(),d={zh:c,en:l};return(e,c)=>{const l=t("router-view"),u=m;return s(),o("div",T,[a(u,{locale:d[r(i).locale]},{default:n((()=>[a(l)])),_:1},8,["locale"])])}}}),[["__scopeId","data-v-56a74ab1"]]),x={},z=function(e,t,s){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/vue3-test/"+e}(e))in x)return;x[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!s)for(let s=o.length-1;s>=0;s--){const a=o[s];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((t,s)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},N=y.create({
// baseURL: 'http://codercba.com:1888/api/',
// baseURL: ({}).VITE_BASE_URL,
timeout:5e3});N.interceptors.request.use((function(e){const t=V(),{token:s}=t;return s&&(e.headers={
// 'Content-Type':'application/x-www-form-urlencoded',   // 传参方式表单
// 'Content-Type': 'application/json;charset=UTF-8', // 传参方式json
satoken:`Bearer ${s}`}),e}),(function(e){return d.error(e.message),Promise.reject(e)})),N.interceptors.response.use((function(e){return e.data&&200===e.data.code?e:Promise.reject(e)}),(function(e){if(e&&e.response){switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="权限不足, 请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错";break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP 版本不受支持";break;default:e.message=`连接错误${e.response.status}`}}else JSON.stringify(e).includes("timeout")?e.message="服务器响应超时，请刷新当前页":e.message="连接服务器失败";return Promise.reject(e)}));const R=async(e,t,s,o={})=>{try{const a=await N({method:e,url:t,["get"===e?"params":"data"]:s,...o});return a.data.message&&d.success(a.data.message),a.data}catch(a){if(a.data){if(401===a.data.code){d.error(a.data.message||"未知错误，请重新登录");V().$reset(),C.push("/login")}}else d.error(a.message||"未知错误，请重新登录")}},D=async(e,t={},s={})=>await R("get",e,t,s),U=()=>(async(e,t={},s={})=>await R("post",e,t,s))("/api/user/logout",{}),V=f("login",{
// 定义全局共享状态的一个初始化状态
state:()=>({token:"",userInfo:{nickName:"",email:"",phone:"",gender:"",age:"",avatarUrl:"",introduction:"",createdTime:"",updatedTime:"",isActive:"",isAdmin:""}})
// actions类似于methods，可以有同步和异步方法，修改state中的状态
,actions:{
// 登录
async doLogin(e){await C.push("/")},
// 获取登录用户信息
async doInfo(){const e=await D("/api/user/getLoginUserInfo",{});if(e&&200===e.code){const{nickName:t,email:s,phone:o,gender:a,age:n,avatarUrl:r,introduction:i,createdTime:c,updatedTime:l,isActive:m,isAdmin:d}=e.data;this.userInfo={nickName:t,email:s,phone:o,gender:a,age:n,avatarUrl:r,introduction:i,createdTime:c,updatedTime:l,isActive:m,isAdmin:d},u({title:"欢迎回来~",message:`亲爱的${this.userInfo.nickName}`,position:"top-left",type:"success"})}},
// 退出登录
async doLogout(){await U()}},
// 开启持久化
persist:{enabled:!0,strategies:[{storage:localStorage}]}});k.configure({easing:"ease",
// 动画方式
speed:1e3,
// 递增进度条的速度
showSpinner:!1,
// 进度环显示隐藏
trickleSpeed:200,
// 自动递增间隔
minimum:.3,
// 更改启动时使用的最小百分比
parent:"body"});const $=()=>{k.done()},q=[{path:"/login",name:"login",component:()=>z((()=>import("./index-288b2d4f.js")),["assets/js/index-288b2d4f.js","assets/js/element-plus-7e112574.js","assets/js/@vue-557ff3e0.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/theme-da25fa3b.js","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css","assets/css/index-1df1fae6.css"]),meta:{title:"登录"}}],M=[
// 控制台
{path:"/dashboard",name:"dashboard",component:()=>z((()=>import("./index-b7fd810d.js")),["assets/js/index-b7fd810d.js","assets/js/element-plus-7e112574.js","assets/js/@vue-557ff3e0.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/useInstance-bc2545f6.js","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"控制台",icon:"Monitor",keepAlive:!0}},
// 系统管理
{path:"/system",name:"system",redirect:"/system/user",meta:{title:"系统管理",icon:"UserFilled"},children:[{path:"user",name:"user",component:()=>z((()=>import("./index-901c7a86.js")),["assets/js/index-901c7a86.js","assets/js/element-plus-7e112574.js","assets/js/@vue-557ff3e0.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/user-a7125ce4.js","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"用户管理",icon:"Monitor",keepAlive:!1}},{path:"role",name:"role",component:()=>z((()=>import("./index-b51986bb.js")),["assets/js/index-b51986bb.js","assets/js/element-plus-7e112574.js","assets/js/@vue-557ff3e0.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/user-a7125ce4.js","assets/js/useInstance-bc2545f6.js","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"角色管理",icon:"Monitor",keepAlive:!0}}]},
// 系统报表
{path:"/reports",name:"reports",component:()=>z((()=>import("./index-a7baf4de.js")),["assets/js/index-a7baf4de.js","assets/js/@vue-557ff3e0.js","assets/js/element-plus-7e112574.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"报表数据",icon:"Odometer",keepAlive:!0}},
// 系统设置
{path:"/settings",name:"settings",component:()=>z((()=>import("./index-d5cd1552.js")),["assets/js/index-d5cd1552.js","assets/js/@vue-557ff3e0.js","assets/js/element-plus-7e112574.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"系统设置",icon:"Setting",keepAlive:!0}}],C=b({
// base: ,
// 创建一个 Hash 路由实例
history:v("/vue3-test/"),
// 路由配置
routes:[...q,
// 公有路由直接展示
{path:"/",name:"layout",component:()=>z((()=>import("./index-0280b2f9.js")),["assets/js/index-0280b2f9.js","assets/js/element-plus-7e112574.js","assets/js/@vue-557ff3e0.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/pinia-d932e60b.js","assets/js/vue-router-e94cc7dd.js","assets/js/theme-da25fa3b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css","assets/css/index-b6d21b3d.css","assets/css/animate-2d4c25b0.css"]),redirect:"/dashboard",children:[...M,
// 私有路由放在layout下展示
{path:"/404",name:"404",component:()=>z((()=>import("./404-729fd4b5.js")),["assets/js/404-729fd4b5.js","assets/js/@vue-557ff3e0.js","assets/js/element-plus-7e112574.js","assets/js/lodash-es-0f17fca1.js","assets/js/async-validator-cf877c1f.js","assets/js/@element-plus-10a58ae2.js","assets/js/@ctrl-08719ea3.js","assets/js/@popperjs-b78c3215.js","assets/js/escape-html-203c476a.js","assets/js/dayjs-02d3be64.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/css/element-plus-a56b3b56.css","assets/js/pinia-d932e60b.js","assets/js/pinia-plugin-persist-70d140bd.js","assets/js/vue-i18n-4d80fa7d.js","assets/js/@intlify-490a3a79.js","assets/js/vue-router-e94cc7dd.js","assets/js/axios-87267c27.js","assets/js/nprogress-f8a163bf.js","assets/css/nprogress-5466ebbd.css"]),meta:{title:"404页面"}},{path:"/:pathMatch(.*)*",name:"error",redirect:"/404"}]}]});C.beforeEach(((e,t,s)=>{k.start(),s()})),C.afterEach((()=>{$()})),C.onError((e=>{$()}));const F={mounted:(e,t)=>{e.resizeListener=()=>{B(e,t)},B(e,t),window.addEventListener("resize",e.resizeListener)},unmounted(e){window.removeEventListener("resize",e.resizeListener)},updated(e,t){B(e,t)}};function B(e,t){var s;const o=e.offsetTop,a=(null==(s=null==t?void 0:t.value)?void 0:s.bottom)||64,n=window.innerHeight;e.style.height=n-o-a+"px",e.style.overflowY="auto"}let H,J=0;function W(e,t){H=p.service({lock:!0,text:t||"努力加载中...",background:"rgba(255,255,255,.4)",target:document.querySelector(e)})}function K(){H&&H.close()}function Y(e,t){0===J&&W(e,t),J++}function Z(){J<=0||(J--,0===J&&K())}const G=i(S);G.use(E),G.use(A),G.use(C),G.use((function(e){for(const[t,s]of Object.entries(j))e.component(t,s)})),function(e){e.config.globalProperties.$myLoading={startLoading:W,endLoading:K,showFullScreenLoading:Y,hideFullScreenLoading:Z,needLoadingRequestCount:J}}(G),G.directive("auto-height",F),G.mount("#app");export{P as _,V as a,D as g,I as l,M as p,C as r,O as u};
