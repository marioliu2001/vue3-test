import{r as i,G as N,af as S,o as w,c as T,K as e,T as t,$ as _,X as o,ag as D,U as L,Y as s,a9 as P}from"./index-c359d0f1.js";import{a as $,b as F,c as I,E as V}from"./el-checkbox-185f5e3d.js";import{g as j,E as G,a as K,b as M}from"./user-c954ada7.js";import{u as X}from"./useInstance-37baf641.js";import"./_initCloneObject-c2302002.js";const Y={class:"user"},q={class:"card-header"},H={style:{color:"#218868"}},J={style:{display:"flex","align-items":"center"}},ae={__name:"index",setup(O){const{global:m}=X(),f=i([]),c=i(1),d=i(10),h=i(0),g=async()=>{m.$myLoading.showFullScreenLoading(".needLoading","正在载入数据"),await j(c.value,d.value).then(l=>{l&&l.data&&(console.log(l.data),h.value=l.data.total,f.value=l.data.records)}).catch(l=>{console.log(l)}).finally(()=>{m.$myLoading.hideFullScreenLoading()})};N(async()=>{await g()});const y=()=>{g()},b=()=>{g()},k=l=>{console.log(l),alert("修改")},x=l=>{console.log(l),alert("删除")};return(l,r)=>{const p=P,n=F,v=K,C=M,u=I,z=V,E=G,A=$,U=S("auto-height");return w(),T("div",Y,[e(E,{class:"box-car"},{header:t(()=>[_("div",q,[e(p,{type:"primary",icon:"FolderAdd",round:""},{default:t(()=>[o("新增")]),_:1})])]),default:t(()=>[D((w(),L(z,{class:"needLoading",data:f.value,style:{width:"100%"},border:""},{default:t(()=>[e(n,{label:"序号",width:"80",align:"center",type:"index"}),e(n,{prop:"nickName",label:"用户昵称",width:"120",align:"center"},{default:t(a=>[_("span",H,s(a.row.nickName),1)]),_:1}),e(n,{prop:"avatarUrl",label:"头像",width:"180",align:"center"},{default:t(a=>[_("div",J,[e(C,{placement:"right",title:"",width:500,trigger:"hover"},{reference:t(()=>[e(v,{loading:"lazy",fit:"cover",src:a.row.avatarUrl},null,8,["src"])]),default:t(()=>[e(v,{style:{width:"100%",height:"100%"},loading:"lazy",fit:"cover",src:a.row.avatarUrl},null,8,["src"])]),_:2},1024)])]),_:1}),e(n,{prop:"email",label:"邮箱",align:"center"}),e(n,{prop:"phoneNumber",label:"手机号",align:"center"}),e(n,{prop:"gender",label:"性别",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.gender===1?"success":"warning",class:"mx-1",effect:"dark"},{default:t(()=>[o(s(a.row.gender===1?"男":"女"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"age",label:"年龄",width:"70",align:"center"}),e(n,{prop:"createdTime",label:"创建时间"}),e(n,{prop:"isActive",label:"状态",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.isActive===1?"success":"warning",class:"mx-1",effect:"light"},{default:t(()=>[o(s(a.row.isActive===1?"激活":"未激活"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"isAdmin",label:"管理员",width:"80",align:"center"},{default:t(a=>[e(u,{type:a.row.isAdmin===1?"success":"warning",class:"mx-1",effect:"plain"},{default:t(()=>[o(s(a.row.isAdmin===1?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"操作",width:"130",align:"center"},{default:t(a=>[e(p,{link:"",type:"warning",size:"default",onClick:B=>k(a.row)},{default:t(()=>[o("修改")]),_:2},1032,["onClick"]),e(p,{link:"",type:"danger",size:"default",onClick:B=>x(a.row)},{default:t(()=>[o("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[U,{bottom:80}]])]),_:1}),e(A,{class:"mt-[6px]","current-page":c.value,"onUpdate:currentPage":r[0]||(r[0]=a=>c.value=a),"page-size":d.value,"onUpdate:pageSize":r[1]||(r[1]=a=>d.value=a),"page-sizes":[10,20,30,40],background:!0,layout:"prev, pager, next, jumper, ->, total, sizes",total:h.value,onSizeChange:b,onCurrentChange:y},null,8,["current-page","page-size","total"])])}}};export{ae as default};
